import{m as s,f as o,Z as i,a4 as l,$ as h,r as f,a6 as c}from"#entry";const a=f(null);let u=!1;function $(){let e=s().$firebaseAuth;o(()=>{e=s().$firebaseAuth??e,!(u||!e)&&(u=!0,i(e,t=>{a.value=t}))});const r=()=>{const t=s().$firebaseAuth??e;if(!t)throw new Error("auth-not-ready");return t};return{user:a,login:(t,n)=>h(r(),t,n),register:(t,n)=>l(r(),t,n),logout:async()=>{const t=s().$firebaseAuth??e;t&&(await c(t),a.value=null)}}}export{$ as u};
