import{_ as P}from"./SpNsY1Ag.js";import{r as d,c as p,a as e,t as a,B as U,A as V,C as l,D as i,y as x,d as y,b as w,w as _,o as c,H as N}from"#entry";import{_ as q}from"./BTPgcEgp.js";import{u as A}from"./D0cwZohw.js";const B={class:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center px-4 transition-colors"},S={class:"max-w-md w-full"},T={class:"text-center mb-8"},C={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},D={class:"text-gray-600 dark:text-gray-300"},H={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8"},M={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},E=["placeholder"],F={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},I=["placeholder"],O={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},j=["placeholder"],z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},L=["placeholder"],Z={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},G=["placeholder"],J=["disabled"],K={key:0},Q={key:1},R={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},W={class:"mt-8 text-center text-sm text-gray-600 dark:text-gray-300"},X={class:"mt-6 text-center"},Y="Zs3eHtAdt9FAzinOf8qx",oe={__name:"signup",setup(ee){const f=A(),m=d(""),b=d(""),h=d(""),u=d(""),g=d(""),k=f.loading,n=d(""),$=async()=>{if(n.value="",u.value!==g.value){n.value=t("signup.errors.passwordMismatch");return}try{return await f.signUp({name:m.value,username:b.value,email:h.value,password:u.value,confirmPassword:g.value,defaultAchievementId:Y}),N("/")}catch(r){switch(console.error("signup",r),r.message){case"username-taken":n.value="Username is already taken";break;case"invalid-username":n.value="Username is invalid. Only lowercase letters, numbers, dots, underscores and hyphens are allowed (3-30 characters).";break;default:n.value="Sign up failed. Please try again.";break}}};return(r,s)=>{const v=P;return c(),p("div",B,[e("div",S,[e("div",T,[s[5]||(s[5]=e("div",{class:"text-6xl mb-4"},[e("img",{src:q,alt:"Ecopoint logo",class:"mx-auto w-48 h-auto"})],-1)),e("h1",C,a(r.$t("signup.title")),1),e("p",D,a(r.$t("signup.subtitle")),1)]),e("div",H,[e("form",{class:"space-y-6",onSubmit:U($,["prevent"])},[e("div",null,[e("label",M,a(r.$t("signup.fullName")),1),l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>m.value=o),type:"text",placeholder:r.$t("signup.fullNamePlaceholder"),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",required:""},null,8,E),[[i,m.value]])]),e("div",null,[e("label",F,a(r.$t("signup.username")),1),l(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>b.value=o),type:"text",placeholder:r.$t("signup.usernamePlaceholder"),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",required:""},null,8,I),[[i,b.value]])]),e("div",null,[e("label",O,a(r.$t("signup.email")),1),l(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>h.value=o),type:"email",placeholder:r.$t("signup.emailPlaceholder"),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",required:""},null,8,j),[[i,h.value]])]),e("div",null,[e("label",z,a(r.$t("signup.password")),1),l(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>u.value=o),type:"password",placeholder:r.$t("signup.passwordPlaceholder"),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",required:"",minlength:"6"},null,8,L),[[i,u.value]])]),e("div",null,[e("label",Z,a(r.$t("signup.repeatPassword")),1),l(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>g.value=o),type:"password",placeholder:r.$t("signup.passwordPlaceholder"),class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition",required:"",minlength:"6"},null,8,G),[[i,g.value]])]),e("button",{type:"submit",class:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 dark:from-indigo-500 dark:to-purple-500 dark:hover:from-indigo-600 dark:hover:to-purple-600 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition transform hover:scale-105",disabled:x(k)},[x(k)?(c(),p("span",Q,a(r.$t("signup.creatingAccount")),1)):(c(),p("span",K,a(r.$t("signup.signUpBtn")),1))],8,J),n.value?(c(),p("p",R,a(n.value),1)):V("",!0)],32),e("p",W,[y(a(r.$t("signup.haveAccount"))+" ",1),w(v,{to:"/login",class:"font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300"},{default:_(()=>[y(a(r.$t("signup.signIn")),1)]),_:1})])]),e("div",X,[w(v,{to:"/",class:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-sm font-medium transition"},{default:_(()=>[y(a(r.$t("signup.backToHome")),1)]),_:1})])])])}}};export{oe as default};
